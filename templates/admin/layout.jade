doctype html
html(lang="en")
head
  meta(charset="utf-8")
  meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")
  meta(http-equiv="X-UA-Compatible", content="IE=edge")
  block head
  // Title block
  block title
    title Admin CMS
  // End of Title block
  // Bootstrap CSS 
  link(href="/coreassets/bootstrap/bootstrap.min.css", rel="stylesheet")
  //link(href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/lumen/bootstrap.min.css", rel="stylesheet")

  link(href="/coreassets/bootstrap/jasny-bootstrap.min.css", rel="stylesheet")
  link(href="/coreassets/bootstrap/navmenu.css", rel="stylesheet")
  link(href="/coreassets/ionicons/css/ionicons.min.css", rel="stylesheet")

  // Custom stylesheets
  block stylesheets
  style.
    #noty-holder{    
      width: 100%;    
      top: 0;
      font-weight: bold;    
      z-index: 1031; /* Max Z-Index in Fixed Nav Menu is 1030*/
      text-align: center;
      position: fixed;
    }

    .alert{
      margin-bottom: 2px;
      border-radius: 0px;
    }
  // End of custom stylesheets


  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  script(src="/coreassets/html5shiv/html5shiv.js")
  script(src="/coreassets/respond.js/respond.min.js")
  <![endif]-->

body
  #notifications
  include ./sidebar.jade

  // Content block
  block content
  // End of content block

  //FastClick
  script(src="/coreassets/FastClick/fastclick.js")
  //jQuery
  script(src="/coreassets/jquery/jquery.js")
  //Bootstrap JavaScript 
  script(src="/coreassets/bootstrap/bootstrap.min.js")
  script(src="/coreassets/bootstrap/jasny-bootstrap.min.js")
  script.
    window.myElementsOptions = {
      socketPath: "/myelements"
    }
  script(src="/myelements.jquery.js")
  
  // Custom scripts
  block scripts
  script.

    function notificate(message, type, closable) {
        var closable = (typeof closable === 'undefined' ? true : closable)
        var html = '<div id="notification" class="alert alert-' + type + ' alert-dismissable page-alert">';    
        if(closable) html += '<button type="button" class="close"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>';
        html += message;
        html += '</div>';
        $(html).hide().prependTo('#notifications').slideDown();
    };
    $(function() {

      FastClick.attach(document.body);

      $('[data-toggle="tooltip"]').tooltip();

      $('body').myelement().on('disconnect', function(){
        $('.live-btn').attr('disabled', 'disabled');
        $('a').attr('disabled','disabled').css({'pointer-events':'none'});
        notificate('<i class="icon ion-alert-circled"/> #{__('Check your internet connection, it seems that we are disconnected.')}', 'danger', false);
      }).on('reconnect', function(){
        $('.live-btn').removeAttr('disabled');
        $('#notification').alert('close');
        notificate('<i class="icon ion-checkmark-circled"/> #{__('Connection restablished.')}', 'success', false);
        $('#notification').delay(2500).fadeOut(function(){$('#notification').alert('close');});
        $('a').attr('disabled','').css({'pointer-events':'auto'});
      });
      
    });
  // End of custom Scripts